<!DOCTYPE html>
<html>
<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(onLoad);

        var data;
        var chart
        var options;

        function onLoad() {

            data = google.visualization.arrayToDataTable([
                ["Year", 'Sales', 'Expenses'],
                ['2004', 1000, 400],
                ['2005', 1170, 460],
                ['2006', 660, 1120],
                ['2007', 1030, 540]
            ]);

            options = {
                title: '@TITLE'
            };

            chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            update()
        }

        function drawChart() {
            chart.draw(data, options);
        }

        function update() {
            drawChart();
            readStream();
            t = setTimeout('update()', 500);
        }

        function readStream() {
            var req = null;
            try { req = new XMLHttpRequest(); } catch (e) { }
            if (!req) try { req = new ActiveXObject("Msxml2.XMLHTTP"); } catch (e) { }
            if (!req) try { req = new ActiveXObject("Microsoft.XMLHTTP"); } catch (e) { }
            req.open('GET', "@DATALOCATION", false);
            req.send();

            eval("data = google.visualization.arrayToDataTable("+ req.responseText + ")");
        }
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 100%; height:750px;"></div>
  </body>
</html>